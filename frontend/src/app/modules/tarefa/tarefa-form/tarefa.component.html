<form [formGroup]="form" (ngSubmit)="save()">
    <p-card header="Cadastro de Tarefas">
        <hr><br>
        <div class="ui-fluid">
            <div class="p-field">
                <label for="titulo">Titulo</label>
                <input id="titulo" type="text" pInputText formControlName="titulo" maxlength="150">
            </div><br>
            <div class="p-field">
                <label for="descricao">Descrição</label>
                <input id="descricao" type="text" pInputText formControlName="descricao">
            </div><br>
            <div class="p-field">
                <label>Data Prevista de Inicio</label>
                <p-calendar
                    dateFormat="dd/mm/yy"
                    [showIcon]="true"
                    formControlName="dataInicioPrevista">
                </p-calendar>
            </div><br>
            <div class="p-field">
                <label>Data Prevista de Término</label>
                <p-calendar
                    dateFormat="dd/mm/yy"
                    [showIcon]="true"
                    formControlName="dataTerminoPrevista">
                </p-calendar>
            </div><br>
            <div class="p-field">
                <label>Data de Inicio</label>
                <p-calendar
                    dateFormat="dd/mm/yy"
                    [showIcon]="true"
                    formControlName="dataInicio">
                </p-calendar>
            </div><br>
            <div class="p-field">
                <label>Data de Término</label>
                <p-calendar
                    dateFormat="dd/mm/yy"
                    [showIcon]="true"
                    formControlName="dataTermino">
                </p-calendar>
            </div><br>
            <div class="p-field">
                <label for="tipo">Tipo</label>
                <input id="tipo" type="text" pInputText formControlName="tipo">
            </div><br>
            <div class="p-field">
                <label for="status">Status</label>
                <input id="status" type="text" pInputText formControlName="status">
            </div><br>
            <div class="p-field">
                <p-dropdown class="ng-tns-c3-4 ng-pristine ng-valid ng-touched"
                            [options]="responsaveis"
                            placeholder="Selecione o Responsavel"
                            [showClear]="true"
                            formControlName="responsavelId">
                </p-dropdown>
            </div>
            <br><br>
            <p-fileUpload #fileUpload name="file[]"
                          [showUploadButton]="false"
                          customUpload="true"
                          (onSelect)="upload($event)"
                          multiple="multiple"
                          accept="application/msword, application/pdf, image/*"
                          maxFileSize="10000000">
                <ng-template pTemplate="content">
                    <ul *ngIf="uploadedFiles.length">
                        <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                    </ul>
                </ng-template>
            </p-fileUpload>
        </div>
        <br>
        <p-footer>
            <button class="ui-button-success botaoStyle"
                    type="submit" pButton
                    icon="pi pi-plus"
                    [disabled]="!form.valid"
                    label="Criar"></button>
        </p-footer>
    </p-card>
</form>
<br><br>
<p-table [value]="tarefas">
    <ng-template pTemplate="header">
        <tr>
            <th>Titulo</th>
            <th>Descrição</th>
            <th>Data Prevista Inicio</th>
            <th>Data Prevista Término</th>
            <th>Data Inicio</th>
            <th>Data Término</th>
            <th>Tipo</th>
            <th>Status</th>
            <th>Responsavel</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-tarefa>
        <tr>
            <td>{{ tarefa.titulo }}</td>
            <td>{{ tarefa.descricao }}</td>
            <td>{{ tarefa.dataInicioPrevista }}</td>
            <td>{{ tarefa.dataTerminoPrevista }}</td>
            <td>{{ tarefa.dataInicio }}</td>
            <td>{{ tarefa.dataTermino }}</td>
            <td>{{ tarefa.tipo }}</td>
            <td>{{ tarefa.status }}</td>
            <td>{{ tarefa.nomeResponsavel }}</td>
        </tr>
    </ng-template>
</p-table>
